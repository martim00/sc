<project default="instrument-and-run">
    <target name="compile">
        <!--<mkdir dir="bin"/>-->
        <javac srcdir="../src" destdir="../bin">
        	<classpath>
        		<pathelement location="../deps/asm-debug-all-4.1.jar"/>
        		<pathelement location="../deps/json-simple-1.1.1.jar"/>
        		<pathelement location="../deps/junit-4.10.jar"/>
        		<pathelement location="../lib/bin"/>
        	</classpath>
        </javac>
    </target>

    <target name="instrument">
    	<java classname="instrumenter.core.Main">

    		<!-- specific for instrumenting junit -->    		
    		<arg value="C:/Users/Aniceto/workspace/junit_original"/>
    		<arg value="C:/sc/sc_junit"/>
    		<!-- end -->

    		<classpath>
    			<pathelement location="../bin"/>
    			<pathelement location="../deps/asm-debug-all-4.1.jar"/>

    			<!-- specific for instrumenting junit -->
    			<pathelement location="C:/Users/Aniceto/workspace/junit_original/bin"/> 
    			<pathelement location="C:/Users/Aniceto/workspace/junit_original/lib/hamcrest-core-1.3.jar"/>
    			<!-- end -->

    		</classpath>
    	</java>
    </target>

    <target name="run">
    	<java classname="org.junit.runner.JUnitCore">

    		<!-- specific for instrumenting junit -->    		
    		<arg value="junit.tests.framework.AssertTest"/>
    		<!-- end -->

    		<classpath>
    			<pathelement location="c:/sc/sc_junit/bin"/>
    			<pathelement location="../deps/junit-4.10.jar"/>
    			<pathelement location="../lib/bin"/>
    		</classpath>
    	</java>
    </target>

    <target name="instrument-and-run" depends="compile, instrument, run"/>
    	
</project>